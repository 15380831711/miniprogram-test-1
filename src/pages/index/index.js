"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var app_service_1 = require("../../providers/app-service/app-service");
var app = getApp();
var appService = new app_service_1.AppServiceProvider();
Page({
    data: {
        motto: '点击 “编译” 以构建',
        userInfo: {},
        hasUserInfo: false,
        canIUse: wx.canIUse('button.open-type.getUserInfo'),
    },
    bindViewTap: function () {
        appService.push("../news/news");
    },
    switchTab: function () {
        wx.switchTab({
            url: '../logs/logs'
        });
    },
    onLoad: function () {
        var _this = this;
        if (app.globalData.userInfo) {
            this.setData({
                userInfo: app.globalData.userInfo,
                hasUserInfo: true,
            });
        }
        else if (this.data.canIUse) {
            app.userInfoReadyCallback = function (res) {
                _this.setData({
                    userInfo: res,
                    hasUserInfo: true
                });
            };
        }
        else {
            wx.getUserInfo({
                success: function (res) {
                    app.globalData.userInfo = res.userInfo;
                    _this.setData({
                        userInfo: res.userInfo,
                        hasUserInfo: true
                    });
                }
            });
        }
    },
    getUserInfo: function (e) {
        console.log(e);
        app.globalData.userInfo = e.detail.userInfo;
        this.setData({
            userInfo: e.detail.userInfo,
            hasUserInfo: true
        });
    },
    httpTest: function () {
        appService.get('http://192.168.2.222/base_jfinal_maven/api/mall/product', function (ret) {
            console.log(ret);
        }, true);
    },
    httpTest2: function () {
        this.httpTest();
    },
    startRefresh: function () {
        wx.startPullDownRefresh();
    },
    stopRefresh: function () {
        wx.stopPullDownRefresh();
    },
    onPullDownRefresh: function () {
        console.log("onPullDownRefresh....");
        wx.showNavigationBarLoading();
        setTimeout(function () {
            wx.hideNavigationBarLoading();
            wx.stopPullDownRefresh();
        }, 15000);
    },
    onReachBottom: function () {
        console.log("监听用户上拉触底事件，用于上拉加载更多...");
        wx.showNavigationBarLoading();
        setTimeout(function () {
            wx.hideNavigationBarLoading();
        }, 1500);
    },
    startScroll: function () {
        wx.pageScrollTo({
            scrollTop: 0,
            duration: 300
        });
    },
    showTip: function () {
        wx.showToast({
            title: '成功',
            icon: 'success',
            duration: 2000
        });
    },
    showToast: function () {
        wx.showToast({
            title: '成功',
            icon: 'none',
            duration: 2000
        });
    },
    showLoading: function () {
        wx.showLoading({
            title: '加载中...',
        });
        setTimeout(function () {
            wx.hideLoading();
        }, 2000);
    },
    showModal: function () {
        wx.showModal({
            title: '提示',
            content: '这是一个模态弹窗',
            showCancel: true,
            success: function (res) {
                if (res.confirm) {
                    console.log('用户点击确定');
                }
                else if (res.cancel) {
                    console.log('用户点击取消');
                }
            }
        });
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBLHVFQUE2RTtBQUU3RSxJQUFNLEdBQUcsR0FBRyxNQUFNLEVBQVUsQ0FBQztBQUU3QixJQUFNLFVBQVUsR0FBRyxJQUFJLGdDQUFrQixFQUFFLENBQUM7QUFFNUMsSUFBSSxDQUFDO0lBQ0QsSUFBSSxFQUFFO1FBQ0YsS0FBSyxFQUFFLGFBQWE7UUFDcEIsUUFBUSxFQUFFLEVBQUU7UUFDWixXQUFXLEVBQUUsS0FBSztRQUNsQixPQUFPLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQztLQUN0RDtJQUdELFdBQVc7UUFLUCxVQUFVLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxTQUFTO1FBQ0wsRUFBRSxDQUFDLFNBQVMsQ0FBQztZQUNULEdBQUcsRUFBRSxjQUFjO1NBQ3RCLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxNQUFNO1FBQU4saUJBMkJDO1FBMUJHLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxRQUFRLEVBQUU7WUFDekIsSUFBSSxDQUFDLE9BQVEsQ0FBQztnQkFDVixRQUFRLEVBQUUsR0FBRyxDQUFDLFVBQVUsQ0FBQyxRQUFRO2dCQUNqQyxXQUFXLEVBQUUsSUFBSTthQUNwQixDQUFDLENBQUE7U0FDTDthQUFNLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFHMUIsR0FBRyxDQUFDLHFCQUFxQixHQUFHLFVBQUMsR0FBRztnQkFDNUIsS0FBSSxDQUFDLE9BQVEsQ0FBQztvQkFDVixRQUFRLEVBQUUsR0FBRztvQkFDYixXQUFXLEVBQUUsSUFBSTtpQkFDcEIsQ0FBQyxDQUFBO1lBQ04sQ0FBQyxDQUFBO1NBQ0o7YUFBTTtZQUVILEVBQUUsQ0FBQyxXQUFXLENBQUM7Z0JBQ1gsT0FBTyxFQUFFLFVBQUEsR0FBRztvQkFDUixHQUFHLENB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QkFBTSxJQUFJLEdBQUcsQ0FBQyxNQUFNLEVBQUU7b0JBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7aUJBQ3hCO1lBQ0wsQ0FBQztTQUNKLENBQUMsQ0FBQTtJQUNOLENBQUM7Q0FDSixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvL2luZGV4LmpzXG4vL+iOt+WPluW6lOeUqOWunuS+i1xuaW1wb3J0IHsgSU15QXBwIH0gZnJvbSAnLi4vLi4vYXBwJztcblxuaW1wb3J0IHsgQXBwU2VydmljZVByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vcHJvdmlkZXJzL2FwcC1zZXJ2aWNlL2FwcC1zZXJ2aWNlJztcblxuY29uc3QgYXBwID0gZ2V0QXBwPElNeUFwcD4oKTtcblxuY29uc3QgYXBwU2VydmljZSA9IG5ldyBBcHBTZXJ2aWNlUHJvdmlkZXIoKTtcblxuUGFnZSh7XG4gICAgZGF0YToge1xuICAgICAgICBtb3R0bzogJ+eCueWHuyDigJznvJbor5HigJ0g5Lul5p6E5bu6JyxcbiAgICAgICAgdXNlckluZm86IHt9LFxuICAgICAgICBoYXNVc2VySW5mbzogZmFsc2UsXG4gICAgICAgIGNhbklVc2U6IHd4LmNhbklVc2UoJ2J1dHRvbi5vcGVuLXR5cGUuZ2V0VXNlckluZm8nKSxcbiAgICB9LFxuXG4gICAgLy/kuovku7blpITnkIblh73mlbBcbiAgICBiaW5kVmlld1RhcCgpIHtcbiAgICAgICAgLy8gd3gubmF2aWdhdGVUbyh7XG4gICAgICAgIC8vICAgICB1cmw6ICcuLi9uZXdzL25ld3M/aWQ9NjY2NjY2J1xuICAgICAgICAvLyB9KVxuICAgICAgICAvL2FwcFNlcnZpY2UucHVzaChcIi4uL25ld3MvbmV3cz9pZD02NjY2NjZcIix7bmFtZTondHknLCdzZXgnOifpmr4nfSk7XG4gICAgICAgIGFwcFNlcnZpY2UucHVzaChcIi4uL25ld3MvbmV3c1wiKTtcbiAgICB9LFxuXG4gICAgc3dpdGNoVGFiKCkge1xuICAgICAgICB3eC5zd2l0Y2hUYWIoe1xuICAgICAgICAgICAgdXJsOiAnLi4vbG9ncy9sb2dzJ1xuICAgICAgICB9KVxuICAgIH0sXG5cbiAgICBvbkxvYWQoKSB7XG4gICAgICAgIGlmIChhcHAuZ2xvYmFsRGF0YS51c2VySW5mbykge1xuICAgICAgICAgICAgdGhpcy5zZXREYXRhISh7XG4gICAgICAgICAgICAgICAgdXNlckluZm86IGFwcC5nbG9iYWxEYXRhLnVzZXJJbmZvLFxuICAgICAgICAgICAgICAgIGhhc1VzZXJJbmZvOiB0cnVlLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEuY2FuSVVzZSkge1xuICAgICAgICAgICAgLy8g55Sx5LqOIGdldFVzZXJJbmZvIOaYr+e9kee7nOivt+axgu+8jOWPr+iDveS8muWcqCBQYWdlLm9uTG9hZCDkuYvlkI7miY3ov5Tlm55cbiAgICAgICAgICAgIC8vIOaJgOS7peatpOWkhOWKoOWFpSBjYWxsYmFjayDku6XpmLLmraLov5nnp43mg4XlhrVcbiAgICAgICAgICAgIGFwcC51c2VySW5mb1JlYWR5Q2FsbGJhY2sgPSAocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREYXRhISh7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJJbmZvOiByZXMsXG4gICAgICAgICAgICAgICAgICAgIGhhc1VzZXJJbmZvOiB0cnVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIOWcqOayoeaciSBvcGVuLXR5cGU9Z2V0VXNlckluZm8g54mI5pys55qE5YW85a655aSE55CGXG4gICAgICAgICAgICB3eC5nZXRVc2VySW5mbyh7XG4gICAgICAgICAgICAgICAgc3VjY2VzczogcmVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYXBwLmdsb2JhbERhdGEudXNlckluZm8gPSByZXMudXNlckluZm9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREYXRhISh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5mbzogcmVzLnVzZXJJbmZvLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzVXNlckluZm86IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldFVzZXJJbmZvKGU6IGFueSkge1xuICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICBhcHAuZ2xvYmFsRGF0YS51c2VySW5mbyA9IGUuZGV0YWlsLnVzZXJJbmZvXG4gICAgICAgIHRoaXMuc2V0RGF0YSEoe1xuICAgICAgICAgICAgdXNlckluZm86IGUuZGV0YWlsLnVzZXJJbmZvLFxuICAgICAgICAgICAgaGFzVXNlckluZm86IHRydWVcbiAgICAgICAgfSlcbiAgICB9LFxuXG4gICAgaHR0cFRlc3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy/lj5HotbfnvZHnu5zor7fmsYJcbiAgICAgICAgLy8gd3gucmVxdWVzdCh7IHVybDogJ2h0dHA6Ly8xOTIuMTY4LjIuMjIyL2Jhc2VfamZpbmFsX21hdmVuL2FwaS9tYWxsL3Byb2R1Y3QnLCBcbiAgICAgICAgLy8gaGVhZGVyOiB7ICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSwgZGF0YTogeyBuYW1lOiAndHknIH0sIHN1Y2Nlc3MocmVzOiBhbnkpIHsgY29uc29sZS5sb2cocmVzLmRhdGEpIH0gfSk7XG4gICAgICAgIGFwcFNlcnZpY2UuZ2V0KCdodHRwOi8vMTkyLjE2OC4yLjIyMi9iYXNlX2pmaW5hbF9tYXZlbi9hcGkvbWFsbC9wcm9kdWN0JywgcmV0ID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJldCk7XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH0sXG5cbiAgICBodHRwVGVzdDIoKSB7XG4gICAgICAgIHRoaXMuaHR0cFRlc3QoKTtcbiAgICB9LFxuXG4gICAgc3RhcnRSZWZyZXNoKCkge1xuICAgICAgICB3eC5zdGFydFB1bGxEb3duUmVmcmVzaCgpXG4gICAgfSxcbiAgICBzdG9wUmVmcmVzaCgpIHtcbiAgICAgICAgd3guc3RvcFB1bGxEb3duUmVmcmVzaCgpXG4gICAgfSxcblxuICAgIG9uUHVsbERvd25SZWZyZXNoKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm9uUHVsbERvd25SZWZyZXNoLi4uLlwiKTtcbiAgICAgICAgd3guc2hvd05hdmlnYXRpb25CYXJMb2FkaW5nKCkgLy/lnKjmoIfpopjmoI/kuK3mmL7npLrliqDovb1cbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3eC5oaWRlTmF2aWdhdGlvbkJhckxvYWRpbmcoKSAvL+WujOaIkOWBnOatouagh+mimOagj+S4reeahOWKoOi9vVxuICAgICAgICAgICAgd3guc3RvcFB1bGxEb3duUmVmcmVzaCgpIC8v5YGc5q2i5LiL5ouJ5Yi35pawXG4gICAgICAgIH0sIDE1MDAwKTtcbiAgICB9LFxuXG4gICAgb25SZWFjaEJvdHRvbSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLnm5HlkKznlKjmiLfkuIrmi4nop6blupXkuovku7bvvIznlKjkuo7kuIrmi4nliqDovb3mm7TlpJouLi5cIik7XG4gICAgICAgIHd4LnNob3dOYXZpZ2F0aW9uQmFyTG9hZGluZygpIC8v5Zyo5qCH6aKY5qCP5Lit5pi+56S65Yqg6L29XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd3guaGlkZU5hdmlnYXRpb25CYXJMb2FkaW5nKCkgLy/lrozmiJDlgZzmraLmoIfpopjmoI/kuK3nmoTliqDovb1cbiAgICAgICAgfSwgMTUwMCk7XG4gICAgfSxcblxuICAgIHN0YXJ0U2Nyb2xsKCkge1xuICAgICAgICB3eC5wYWdlU2Nyb2xsVG8oe1xuICAgICAgICAgICAgc2Nyb2xsVG9wOiAwLFxuICAgICAgICAgICAgZHVyYXRpb246IDMwMFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgc2hvd1RpcCgpIHtcbiAgICAgICAgd3guc2hvd1RvYXN0KHtcbiAgICAgICAgICAgIHRpdGxlOiAn5oiQ5YqfJyxcbiAgICAgICAgICAgIGljb246ICdzdWNjZXNzJyxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwXG4gICAgICAgIH0pXG4gICAgfSxcbiAgICBzaG93VG9hc3QoKSB7XG4gICAgICAgIHd4LnNob3dUb2FzdCh7XG4gICAgICAgICAgICB0aXRsZTogJ+aIkOWKnycsXG4gICAgICAgICAgICBpY29uOiAnbm9uZScsXG4gICAgICAgICAgICBkdXJhdGlvbjogMjAwMFxuICAgICAgICB9KVxuICAgIH0sXG4gICAgc2hvd0xvYWRpbmcoKSB7XG4gICAgICAgIHd4LnNob3dMb2FkaW5nKHtcbiAgICAgICAgICAgIHRpdGxlOiAn5Yqg6L295LitLi4uJyxcbiAgICAgICAgfSlcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3eC5oaWRlTG9hZGluZygpXG4gICAgICAgIH0sIDIwMDApXG4gICAgfSxcbiAgICBzaG93TW9kYWwoKSB7XG4gICAgICAgIHd4LnNob3dNb2RhbCh7XG4gICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsXG4gICAgICAgICAgICBjb250ZW50OiAn6L+Z5piv5LiA5Liq5qih5oCB5by556qXJyxcbiAgICAgICAgICAgIHNob3dDYW5jZWw6IHRydWUsXG4gICAgICAgICAgICBzdWNjZXNzKHJlcykge1xuICAgICAgICAgICAgICAgIGlmIChyZXMuY29uZmlybSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn55So5oi354K55Ye756Gu5a6aJylcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+eCueWHu+WPlua2iCcpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0sXG59KSJdfQ==